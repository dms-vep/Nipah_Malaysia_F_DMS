# Analysis Snakemake Pipeline
This directory contains a Snakemake pipeline for analyzing the results of deep mutational scanning experiments done on Nipah F using a pseudotyped lentiviral system. The pipeline takes in cell entry and antibody escape scores generated by dms-vep-pipeline-3 in the top home directory. It outputs filtered data, and plots for manuscript. 

## Directory Structure
The directory structure is as follows:
```
analysis/
├── data/
├── config/
    ├── config.yml
├── results/
├── workflow/
    ├── Snakefile
    ├── envs/
        ├── envs.yaml
    ├── notebooks/
```

Where the config file contains filtering parameters, the results directory contains the output of the pipeline, and the workflow directory contains the Snakemake pipeline and its dependencies. The notebooks directory contains Jupyter notebooks for exploratory data analysis and visualization of the results.

## Notebooks
```
workflow/notebooks/
```
Contains the Jupyter notebooks used in the snakemake pipeline. If the notebooks have 'scratch' in them they are not part of the main snakemake pipeline but were used for specific analyses.

## Results Directory
The results directory will contain the following subdirectories:
```
results/
├── atomic_distances/
├── chimera/
├── figures/
├── filtered_data/
├── logs/
├── residue_accessibility/
├── site_differences/
```
Where:
- `atomic_distances/` contains atomic distance calculations between residues in the Nipah F structure
- `chimera/` contains Chimera session files for visualizing the results
- `figures/` contains plots generated by the pipeline
- `filtered_data/` contains filtered cell entry and antibody escape scores
- `logs/` contains log files for each step of the pipeline
- `residue_accessibility/` contains solvent accessibility calculations for residues in the Nipah F structure
- `site_differences/` contains calculations of mutations that are present in Nipah and Hendra F sequences compared to the unmutated reference sequence.